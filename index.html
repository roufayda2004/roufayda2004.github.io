<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Smoke-Free Journey | GitHub Style</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="stylesheet" href="https://unpkg.com/@primer/css@^20.2.4/dist/primer.css">
  <style>
    :root {
      --color-bg: #0d1117;
      --color-text: #c9d1d9;
      --color-border: #30363d;
      --color-primary: #58a6ff;
      --color-success: #238636;
      --color-danger: #da3633;
    }
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;
      background-color: var(--color-bg);
      color: var(--color-text);
      line-height: 1.6;
    }
    .github-container {
      max-width: 1012px;
      margin: 0 auto;
      padding: 32px;
    }
    .github-box {
      background-color: #161b22;
      border: 1px solid var(--color-border);
      border-radius: 6px;
      padding: 24px;
      margin-bottom: 16px;
    }
    .github-header {
      border-bottom: 1px solid var(--color-border);
      padding-bottom: 16px;
      margin-bottom: 24px;
    }
    .timeline-item {
      position: relative;
      padding: 16px 0 16px 32px;
      border-left: 2px solid var(--color-border);
      margin-left: 16px;
    }
    .timeline-item:last-child {
      border-left: 2px solid transparent;
    }
    .timeline-item::before {
      content: "";
      position: absolute;
      left: -9px;
      top: 24px;
      width: 16px;
      height: 16px;
      border-radius: 50%;
      background: #238636;
      border: 2px solid var(--color-border);
    }
    .github-btn {
      background-color: #21262d;
      border: 1px solid var(--color-border);
      color: var(--color-text);
      padding: 8px 16px;
      border-radius: 6px;
      font-weight: 500;
      transition: all 0.2s;
      cursor: pointer;
    }
    .github-btn:hover {
      background-color: #30363d;
      border-color: #8b949e;
    }
    .github-input {
      background-color: #0d1117;
      border: 1px solid var(--color-border);
      color: var(--color-text);
      padding: 8px 12px;
      border-radius: 6px;
      width: 100%;
    }
    .achievement-badge {
      background-color: #238636;
      border-radius: 2em;
      padding: 4px 12px;
      font-size: 0.85em;
      display: inline-flex;
      align-items: center;
    }
    .octicon {
      margin-right: 8px;
    }
  </style>
</head>
<body>
  <div class="github-container">
    <header class="github-header">
      <h1>
        <svg height="32" aria-hidden="true" viewBox="0 0 16 16" version="1.1" width="32" fill="currentColor" class="octicon">
          <path d="M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27-.68 0-1.36.09-2 .27-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8Z"></path>
        </svg>
        رحلة التعافي من التدخين
      </h1>
    </header>

    <div class="github-box">
      <div class="mb-4">
        <label class="d-block mb-2">تاريخ الإقلاع:</label>
        <input type="datetime-local" id="quitDate" class="github-input">
      </div>
      <div class="mb-4">
        <label class="d-block mb-2">عدد السجائر اليومية:</label>
        <input type="number" id="cigarettes" class="github-input" value="20">
      </div>
      <button class="github-btn" onclick="startTracking()">
        <svg class="octicon" viewBox="0 0 16 16" width="16" height="16">
          <path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm7.25-3.25v2.992l2.028.812a.75.75 0 0 1-.557 1.392l-2.5-1A.751.751 0 0 1 7 8.25v-3.5a.75.75 0 0 1 1.5 0Z"></path>
        </svg>
        بدء التتبع
      </button>
    </div>

    <div class="github-box">
      <h3 class="mb-3">
        <svg class="octicon" viewBox="0 0 16 16" width="16" height="16">
          <path d="M2.5 1.75a.25.25 0 0 1 .25-.25h8.5a.25.25 0 0 1 .25.25v7.736a.75.75 0 1 1-1.5 0V2H2.75a.25.25 0 0 1-.25-.25Zm7.737 9.53a.75.75 0 0 1 .75-.75h3.263a.25.25 0 0 1 .25.25v8.5a.25.25 0 0 1-.25.25h-8.5a.25.25 0 0 1-.25-.25v-3.263a.75.75 0 0 1 1.5 0v2.763h7v-7h-2.763a.75.75 0 0 1-.75-.75Z"></path>
        </svg>
        التقدم الزمني
      </h3>
      <div id="timeline"></div>
    </div>
  </div>

  <script>
    // بيانات تجريبية للتقدم الزمني
    const recoveryTimeline = [
      { time: 0, unit: "ساعة", effect: "بداية التعافي" },
      { time: 24, unit: "ساعة", effect: "تحسن بسيط" },
      { time: 48, unit: "ساعة", effect: "تجدد الدورة الدموية" },
      { time: 1, unit: "يوم", effect: "انخفاض مستوى النيكوتين" },
      { time: 7, unit: "يوم", effect: "تحسن التنفس" },
      { time: 1, unit: "أسبوع", effect: "تراجع أعراض الانسحاب" }
    ];

    // تحويل الوقت للوحدات إلى ساعات
    function convertToHours(time, unit) {
      if (unit === "ساعة") return time;
      if (unit === "يوم") return time * 24;
      if (unit === "أسبوع") return time * 24 * 7;
      return time;
    }

    // تحديث التقدم الزمني بناءً على الساعات المنقضية
    function updateTimeline(elapsedHours) {
      const timeline = document.getElementById('timeline');
      timeline.innerHTML = '';
      recoveryTimeline.forEach(stage => {
        const stageHours = convertToHours(stage.time, stage.unit);
        const item = document.createElement('div');
        item.className = 'timeline-item';
        const statusIcon = elapsedHours >= stageHours ?
          '<svg class="octicon text-success" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg>' :
          '<svg class="octicon" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M8 0a8 8 0 110 16A8 8 0 018 0zm3.25 7.25a.75.75 0 000-1.5h-6.5a.75.75 0 000 1.5h6.5z"></path></svg>';
        item.innerHTML = `
          <div class="d-flex flex-items-center">
            ${statusIcon}
            <div class="ml-2">
              <strong>${stage.effect}</strong>
              <div class="text-gray">${stage.time} ${stage.unit}</div>
            </div>
          </div>
        `;
        timeline.appendChild(item);
      });
    }

    // دالة بدء التتبع
    function startTracking() {
      const quitDateInput = document.getElementById('quitDate');
      if (!quitDateInput.value) {
        showNotification("يرجى تحديد تاريخ الإقلاع أولاً.");
        return;
      }
      const quitDate = new Date(quitDateInput.value);
      const now = new Date();
      const elapsedMilliseconds = now - quitDate;
      const elapsedHours = elapsedMilliseconds / (1000 * 60 * 60);
      updateTimeline(elapsedHours);
      showNotification("تم تحديث التقدم الزمني.");
    }

    // دالة عرض الإشعارات
    function showNotification(message) {
      const notif = document.createElement('div');
      notif.className = 'github-box flash flash-success';
      notif.style.marginBottom = '16px';
      notif.innerHTML = `
        <svg class="octicon" viewBox="0 0 16 16" width="16" height="16">
          <path fill-rule="evenodd" d="M8 0a8 8 0 110 16A8 8 0 018 0z"></path>
        </svg>
        ${message}
      `;
      const container = document.querySelector('.github-container');
      container.insertBefore(notif, container.firstChild);
      setTimeout(() => {
        notif.remove();
      }, 3000);
    }
  </script>
</body>
</html>
